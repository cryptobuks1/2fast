{"version":3,"sources":["components/helpers/jwt.js","components/helpers/removeLocal.js","components/helpers/Ip.js","components/ProjectJob.js"],"names":["getjwt","localStorage","getItem","module","exports","removeDataLocalStorage","removeItem","getIP","IPModule","require","RemoveLocal","Header","Loadable","loader","loading","ProjectJob","props","state","projectList","jwt","this","history","push","teamID","axios","get","headers","then","res","setState","data","catch","err","map","listProject","className","to","variant","job_name","job_created","style","marginTop","position","width","showProjectList","Component"],"mappings":"gGAAA,kCAAO,IAAMA,EAAS,WAClB,OAAOC,aAAaC,QAAQ,U,iBCDhCC,EAAOC,QAAQC,uBAAyB,WACpCJ,aAAaK,WAAW,QACxBL,aAAaK,WAAY,WACzBL,aAAaK,WAAW,oB,iBCH5BH,EAAOC,QAAQG,MAAQ,WACnB,MAAO,wB,uNCOPC,EAAWC,EAAQ,IACnBC,EAAcD,EAAQ,IAEpBE,EAASC,IAAS,CACpBC,OAAQ,kBAAM,2DACdC,QAAS,kBAAM,QAEEC,E,kDACjB,WAAYC,GAAO,IAAD,8BACd,cAAMA,IACDC,MAAQ,CACTC,YAAc,IAHJ,E,gMAQRC,EAAMnB,gBAERoB,KAAKJ,MAAMK,QAAQC,KAAK,U,SAEPrB,aAAaC,QAAQ,kB,OAApCqB,E,OACNC,IAAMC,IAAN,UAAajB,EAASD,QAAtB,mCAAwDgB,GACxD,CACIG,QAAU,CAAE,iBAAmBP,KAElCQ,MAAM,SAAAC,GACC,EAAKC,SAAS,CACVX,YAAcU,EAAIE,KAAKZ,iBAEhCa,OAAO,SAAAC,GACNtB,EAAYL,yBACZ,EAAKW,MAAMK,QAAQC,KAAK,a,4IAKhBJ,GACZ,OAAQA,EAAYe,KAAK,SAAAC,GACb,OACI,kBAAC,IAAD,CAAMC,UAAU,eAAeC,GAAG,gBAC9B,kBAAC,IAAD,CAAOC,QAAQ,WACX,2BAAIH,EAAYI,UAChB,2BAAIJ,EAAYK,oB,+BAUxC,IAAMrB,EAAcE,KAAKH,MAAMC,YAiB/B,OACI,yBAAKiB,UAAU,mBACX,kBAACxB,EAAD,MACI,wBAAIwB,UAAU,cAAcK,MAAO,CAACC,UAAU,OAA9C,0GAGA,6BACA,yBAAKD,MAnBF,CACXE,SAAS,WACTC,MAAO,SAkBMvB,KAAKwB,gBAAgB1B,S,GAtEN2B","file":"static/js/20.80d65d5b.chunk.js","sourcesContent":["export const getjwt = () => {\r\n    return localStorage.getItem('user')\r\n}\r\n\r\n{/* export const getjwt = () => {\r\n    const user = localStorage.getItem('user')\r\n  \r\n    if (user && user.accessToken) {\r\n      return { Authorization: 'Bearer ' + user.accessToken }\r\n    } else {\r\n      return {}\r\n    }\r\n  }  */}","module.exports.removeDataLocalStorage = function(){\r\n    localStorage.removeItem('user')\r\n    localStorage.removeItem( 'user_id')\r\n    localStorage.removeItem('teamproject_ID')\r\n}","module.exports.getIP = function(){\r\n    return 'http://54.254.61.44'\r\n}","import React, { Component } from 'react'\r\n//import Header from './Header'\r\nimport axios from 'axios'\r\nimport { getjwt } from '../components/helpers/jwt'\r\nimport { Link } from \"react-router-dom\"\r\nimport Alert from 'react-bootstrap/Alert'\r\nimport Loadable from 'react-loadable'\r\n\r\nvar IPModule = require('./helpers/Ip')\r\nvar RemoveLocal = require('./helpers/removeLocal')\r\n\r\nconst Header = Loadable({\r\n    loader: () => import('./Header'),\r\n    loading: () => null\r\n  });\r\nexport default class ProjectJob extends Component {\r\n    constructor(props){\r\n        super(props)\r\n        this.state = {\r\n            projectList : [ ]\r\n        }\r\n    }\r\n\r\nasync    componentDidMount(){\r\n        const jwt = getjwt()\r\n        if(!jwt) {\r\n            this.props.history.push('/login')\r\n        }\r\n        const teamID = await localStorage.getItem('teamproject_ID')\r\n        axios.get(`${IPModule.getIP()}:5003/api/v1/projectjob/${teamID}` , \r\n        { \r\n            headers : { 'x-access-token' : jwt  } \r\n        })\r\n        .then( res => {\r\n                this.setState({\r\n                    projectList : res.data.projectList\r\n                })\r\n        }).catch( err => {\r\n            RemoveLocal.removeDataLocalStorage()\r\n            this.props.history.push('/login')\r\n        })\r\n        \r\n    }\r\n\r\n    showProjectList(projectList){\r\n        return  projectList.map( listProject => {\r\n                    return (\r\n                        <Link className=\"text-warning\" to=\"/maintenance\" >\r\n                            <Alert variant=\"warning\" > \r\n                                <p>{listProject.job_name}</p> \r\n                                <p>{listProject.job_created}</p> \r\n                            </Alert>\r\n                        </Link>\r\n                    )\r\n                } )\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        const projectList = this.state.projectList\r\n        const styleButton = {\r\n            backgroundColor:'#E8DA10',\r\n            top:'10px'\r\n        }\r\n        const oudddt = {\r\n            position:'relative',\r\n            width: '100%',\r\n            \r\n        }\r\n        const iinnnn = {\r\n            position:'relative',\r\n            float: 'left',\r\n            clear: 'both' ,\r\n            width:'100%'\r\n            \r\n        }\r\n        return (\r\n            <div className=\"container-fluid\">\r\n                <Header />\r\n                    <h2 className=\"text-center\" style={{marginTop:'5%'}}>\r\n                        งานที่ต้องติดตั้ง\r\n                    </h2>\r\n                    <br />\r\n                    <div style={oudddt}>\r\n                        {this.showProjectList(projectList)}\r\n                    </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n"],"sourceRoot":""}