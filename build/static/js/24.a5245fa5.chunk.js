(this.webpackJsonp2fast=this.webpackJsonp2fast||[]).push([[24],{453:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return v}));var n=a(97),i=a.n(n),l=a(99),o=a(44),s=a(14),r=a(13),c=a(18),u=a(16),m=a(15),g=a(0),h=a.n(g),p=a(120),d=(a(56),a(49),a(454)),f=a.n(d),b=a(133),v=(a(7),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onChange=function(e){var t=e.target,a=t.name,i=t.value;n.setState(Object(o.a)({},a,i))},n.state={pictures:[],img:[],locationToSetup:"",imgBLOB:null,message:null},n.onDrop=n.onDrop.bind(Object(c.a)(n)),n}return Object(r.a)(a,[{key:"onDrop",value:function(e,t){this.setState({pictures:e,img:t})}},{key:"showNameImageUpload",value:function(e){return e&&0!==e.length?e.map((function(e){return h.a.createElement("li",null,h.a.createElement("p",null,e.name))})):h.a.createElement("div",null,h.a.createElement("p",null,"\u0e2d\u0e31\u0e1e\u0e42\u0e2b\u0e25\u0e14\u0e23\u0e39\u0e1b\u0e20\u0e32\u0e1e"),h.a.createElement(f.a,{withIcon:!0,buttonText:"Choose images",onChange:this.onDrop,imgExtension:[".jpg",".gif",".png",".jpeg",".gif"],label:"Upload image",maxFileSize:15189789}))}},{key:"showImageUpload",value:function(e){if(e&&0!==e.length)return e.map((function(e){return h.a.createElement("li",{style:{marginTop:"20px"}},h.a.createElement("img",{src:e,style:{width:"100%"}}))}))}},{key:"b64toBlob",value:function(e,t,a){var n=new Image;n.onerror=a,n.onload=function(){var e=document.createElement("canvas");e.width=n.width,e.height=n.height,e.getContext("2d").drawImage(n,0,0,e.width,e.height),e.toBlob(t)},n.src=e}},{key:"sendImage",value:function(){var e=Object(l.a)(i.a.mark((function e(){var t=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.b64toBlob(this.state.img,(function(e){var a=window.URL.createObjectURL(e);t.setState({imgBLOB:a}),t.sentImageToDatabase()}),(function(e){console.log("error = "+e)}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"sentImageToDatabase",value:function(){console.log(this.state.imgBLOB),this.showMessageUploadComplete()}},{key:"showImageAfterUpload",value:function(){return null===this.state.imgBLOB?h.a.createElement("p",{style:{color:"red"}},"\u0e22\u0e31\u0e07\u0e44\u0e21\u0e48\u0e44\u0e14\u0e49\u0e2d\u0e31\u0e1e\u0e42\u0e2b\u0e25\u0e14\u0e23\u0e39\u0e1b"):h.a.createElement("div",{style:{marginTop:"20px"}},h.a.createElement("img",{alt:"ds",src:this.state.imgBLOB,style:{width:"100%"}}))}},{key:"editImage",value:function(){return this.setState({pictures:[],img:[],imgBLOB:null})}},{key:"showMessageUploadComplete",value:function(){var e=this;this.setState({message:"\u0e2d\u0e31\u0e1e\u0e42\u0e2b\u0e25\u0e14\u0e23\u0e39\u0e1b\u0e20\u0e32\u0e1e\u0e41\u0e25\u0e49\u0e27"}),void 0!==this.state.message&&setTimeout((function(){e.setState({message:null})}),3e3)}},{key:"render",value:function(){var e=this,t=this.state,a=t.pictures,n=t.img,i=t.imgBLOB,l=t.message;return h.a.createElement("div",null,h.a.createElement("div",null,h.a.createElement("form",{action:"",method:"post"},h.a.createElement(b.i,{label:"\u0e2a\u0e16\u0e32\u0e19\u0e17\u0e35\u0e48\u0e15\u0e34\u0e14\u0e15\u0e31\u0e49\u0e07",name:"locationToSetup",onChange:this.onChange})),h.a.createElement("ul",{className:"list-inline"},this.showNameImageUpload(a),this.showImageUpload(n)),h.a.createElement("div",{className:"container-fluid"},h.a.createElement(p.a,{variant:"btn btn-block btn-success",onClick:function(){return e.sendImage()}},"\u0e2a\u0e48\u0e07\u0e23\u0e39\u0e1b\u0e20\u0e32\u0e1e"),null!=this.state.imgBLOB&&h.a.createElement("br",null),null!=this.state.imgBLOB&&h.a.createElement(p.a,{variant:"btn btn-block btn-warning",onClick:function(){return e.editImage()}},"\u0e41\u0e01\u0e49\u0e44\u0e02\u0e23\u0e39\u0e1b\u0e20\u0e32\u0e1e"),h.a.createElement("br",null),null!=this.state.imgBLOB&&h.a.createElement("p",{style:{color:"green",marginTop:"3px"}},l),h.a.createElement("br",null),this.showImageAfterUpload(i))))}}]),a}(g.Component))}}]);
//# sourceMappingURL=24.a5245fa5.chunk.js.map