{"version":3,"sources":["components/helpers/jwt.js","services/AuthenticatedComponent.js","components/helpers/Ip.js"],"names":["getjwt","localStorage","getItem","override","css","IPModule","require","AuthenticatedComponent","props","state","user","undefined","jwt","this","history","push","axios","get","getIP","headers","proxy","then","res","setState","data","setItem","user_id","catch","err","removeItem","console","log","style","height","width","size","color","children","Component","withRouter","module","exports"],"mappings":"gGAAA,kCAAO,IAAMA,EAAS,WAClB,OAAOC,aAAaC,QAAQ,U,+SCMhC,IAAMC,EAAWC,cAAH,KASVC,EAAWC,EAAQ,IACjBC,E,kDACF,WAAYC,GAAO,IAAD,8BACd,cAAMA,IACDC,MAAQ,CACTC,UAAOC,GAHG,E,gEAOE,IAAD,OACTC,EAAMZ,cACRY,GACAC,KAAKL,MAAMM,QAAQC,KAAK,UAE5BC,IAAMC,IAAN,UAAaZ,EAASa,QAAtB,4BACA,CAAEC,QAAU,CAAE,iBAAmBP,GAAOQ,OAAO,IAC9CC,MAAM,SAAAC,GACH,EAAKC,SAAS,CACVb,KAAOY,EAAIE,OAEfvB,aAAawB,QAAS,UAAYH,EAAIE,KAAKE,YAC5CC,OAAO,SAAAC,GACN3B,aAAa4B,WAAW,QACxB5B,aAAa4B,WAAY,WACzB,EAAKrB,MAAMM,QAAQC,KAAK,UACxBe,QAAQC,IAAI,qBAAuBH,Q,+BAMvC,YAAuBjB,IAApBE,KAAKJ,MAAMC,KAEN,6BACA,yBAAKsB,MAAO,CACRC,OAAO,QACPC,MAAM,SACR,kBAAC,IAAD,CACA9B,IAAKD,EACLgC,KAAM,IACNC,MAAO,cAQb,6BACKvB,KAAKL,MAAM6B,c,GAhDSC,aAsDtBC,sBAAWhC,I,iBCvE1BiC,EAAOC,QAAQvB,MAAQ,WACnB,MAAO","file":"static/js/13.d2db4ec0.chunk.js","sourcesContent":["export const getjwt = () => {\r\n    return localStorage.getItem('user')\r\n}\r\n\r\n{/* export const getjwt = () => {\r\n    const user = localStorage.getItem('user')\r\n  \r\n    if (user && user.accessToken) {\r\n      return { Authorization: 'Bearer ' + user.accessToken }\r\n    } else {\r\n      return {}\r\n    }\r\n  }  */}","import React, { Component } from 'react'\r\nimport { getjwt } from '../components/helpers/jwt'\r\nimport { withRouter } from \"react-router-dom\"\r\nimport axios from 'axios'\r\n\r\nimport { css } from \"@emotion/core\";\r\nimport DotLoader from \"react-spinners/DotLoader\";\r\nconst override = css`\r\nposition:absolute;\r\ntop:0;\r\nleft:0;\r\nright:0;\r\nbottom:0;\r\nmargin:auto;\r\n`;\r\n\r\nvar IPModule = require('../components/helpers/Ip')\r\nclass AuthenticatedComponent extends Component {\r\n    constructor(props){\r\n        super(props)\r\n        this.state = {\r\n            user : undefined\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n        const jwt = getjwt()\r\n        if(!jwt) {\r\n            this.props.history.push('/login')\r\n        }\r\n        axios.get(`${IPModule.getIP()}:5002/api/v1/GetUserData` , \r\n        { headers : { 'x-access-token' : jwt }, proxy: false, } )\r\n        .then( res => {\r\n            this.setState({\r\n                user : res.data\r\n            })\r\n            localStorage.setItem( 'user_id' , res.data.user_id)\r\n        }).catch( err => {\r\n            localStorage.removeItem('user')\r\n            localStorage.removeItem( 'user_id')\r\n            this.props.history.push('/login')\r\n            console.log('Error page auth = ' + err)\r\n        })\r\n\r\n    }\r\n\r\n    render() {\r\n        if(this.state.user === undefined){\r\n            return (\r\n                <div>\r\n                <div style={{  \r\n                    height:' 100%',\r\n                    width:'100%' }}>\r\n                  <DotLoader\r\n                  css={override}\r\n                  size={100}\r\n                  color={\"#E8DA10\"}\r\n            \r\n                />\r\n                </div>\r\n                </div>\r\n            )\r\n        }\r\n        return (\r\n            <div>\r\n                {this.props.children}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(AuthenticatedComponent)","module.exports.getIP = function(){\r\n    return 'http://localhost'\r\n}"],"sourceRoot":""}