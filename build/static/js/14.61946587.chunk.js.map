{"version":3,"sources":["components/helpers/jwt.js","components/helpers/removeLocal.js","components/helpers/Ip.js","services/AuthenticatedComponent.js"],"names":["getjwt","localStorage","getItem","module","exports","removeDataLocalStorage","removeItem","getIP","override","css","IPModule","require","RemoveLocal","AuthenticatedComponent","props","state","user","undefined","jwt","this","history","push","axios","get","headers","then","res","setState","data","setItem","user_id","catch","err","style","height","width","size","color","children","Component","withRouter"],"mappings":"gGAAA,kCAAO,IAAMA,EAAS,WAClB,OAAOC,aAAaC,QAAQ,U,iBCDhCC,EAAOC,QAAQC,uBAAyB,WACpCJ,aAAaK,WAAW,QACxBL,aAAaK,WAAY,WACzBL,aAAaK,WAAW,oB,iBCH5BH,EAAOC,QAAQG,MAAQ,WACnB,MAAO,wB,+SCMX,IAAMC,EAAWC,cAAH,KASVC,EAAWC,EAAQ,IACnBC,EAAcD,EAAQ,IACpBE,E,kDACF,WAAYC,GAAO,IAAD,8BACd,cAAMA,IACDC,MAAQ,CACTC,UAAOC,GAHG,E,gEAOE,IAAD,OACTC,EAAMlB,cACRkB,GACAC,KAAKL,MAAMM,QAAQC,KAAK,UAE5BC,IAAMC,IAAN,UAAab,EAASH,QAAtB,4BACA,CAAEiB,QAAU,CAAE,iBAAmBN,KAChCO,MAAM,SAAAC,GACH,EAAKC,SAAS,CACVX,KAAOU,EAAIE,OAEf3B,aAAa4B,QAAS,UAAYH,EAAIE,KAAKE,YAC5CC,OAAO,SAAAC,GACNpB,EAAYP,yBACZ,EAAKS,MAAMM,QAAQC,KAAK,e,+BAK5B,YAAuBJ,IAApBE,KAAKJ,MAAMC,KAEN,6BACA,yBAAKiB,MAAO,CACRC,OAAO,QACPC,MAAM,SACR,kBAAC,IAAD,CACA1B,IAAKD,EACL4B,KAAM,IACNC,MAAO,cAQT,6BACKlB,KAAKL,MAAMwB,c,GA7CKC,aAqDtBC,sBAAW3B","file":"static/js/14.61946587.chunk.js","sourcesContent":["export const getjwt = () => {\r\n    return localStorage.getItem('user')\r\n}\r\n\r\n{/* export const getjwt = () => {\r\n    const user = localStorage.getItem('user')\r\n  \r\n    if (user && user.accessToken) {\r\n      return { Authorization: 'Bearer ' + user.accessToken }\r\n    } else {\r\n      return {}\r\n    }\r\n  }  */}","module.exports.removeDataLocalStorage = function(){\r\n    localStorage.removeItem('user')\r\n    localStorage.removeItem( 'user_id')\r\n    localStorage.removeItem('teamproject_ID')\r\n}","module.exports.getIP = function(){\r\n    return 'http://54.254.61.44'\r\n}","import React, { Component } from 'react'\r\nimport { getjwt } from '../components/helpers/jwt'\r\nimport { withRouter } from \"react-router-dom\"\r\nimport axios from 'axios'\r\n\r\nimport { css } from \"@emotion/core\";\r\nimport DotLoader from \"react-spinners/DotLoader\";\r\nconst override = css`\r\nposition:absolute;\r\ntop:0;\r\nleft:0;\r\nright:0;\r\nbottom:0;\r\nmargin:auto;\r\n`;\r\n\r\nvar IPModule = require('../components/helpers/Ip')\r\nvar RemoveLocal = require('../components/helpers/removeLocal')\r\nclass AuthenticatedComponent extends Component {\r\n    constructor(props){\r\n        super(props)\r\n        this.state = {\r\n            user : undefined\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n        const jwt = getjwt()\r\n        if(!jwt) {\r\n            this.props.history.push('/login')\r\n        }\r\n        axios.get(`${IPModule.getIP()}:5002/api/v1/GetUserData` , \r\n        { headers : { 'x-access-token' : jwt } } )\r\n        .then( res => {\r\n            this.setState({\r\n                user : res.data\r\n            })\r\n            localStorage.setItem( 'user_id' , res.data.user_id)\r\n        }).catch( err => {\r\n            RemoveLocal.removeDataLocalStorage()\r\n            this.props.history.push('/login')\r\n        })\r\n    }\r\n\r\n    render() {\r\n        if(this.state.user === undefined){\r\n            return (\r\n                <div>\r\n                <div style={{  \r\n                    height:' 100%',\r\n                    width:'100%' }}>\r\n                  <DotLoader\r\n                  css={override}\r\n                  size={100}\r\n                  color={\"#E8DA10\"}\r\n            \r\n                />\r\n                </div>\r\n                </div>\r\n            )\r\n        } else {\r\n            return (\r\n                <div>\r\n                    {this.props.children}\r\n                </div>\r\n            )\r\n        }\r\n        \r\n    }\r\n}\r\n\r\nexport default withRouter(AuthenticatedComponent)"],"sourceRoot":""}